(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e9787968"],{"109a":function(t,e,a){"use strict";a.r(e);var s=a("1da1"),i=a("5530"),r=(a("96cf"),a("b0c0"),a("c8e4")),n=a("999e"),c=a("2f62"),o=a("2fa3"),l=a("3bae"),c={name:"notification",components:{UserSidebar:r.a,RecommededFollowers:n.a},data:function(){return{messageList:[]}},computed:Object(i.a)({},Object(c.b)(["currentUser"])),sockets:{connection:function(t){},notification:function(t){t&&(this.$socket.emit("tweet",{id:t.id,account:t.account,name:t.name,UserId:t.id,avatar:t.avatar,tweetId:t.tweetId,tweet:t.tweet,replyId:t.replyId,reply:t.reply,type:t.type},this.currentUser.id),this.messageList.unshift({type:t.type,id:this.messageList.length+1,account:t.account,name:t.name,UserId:t.id,avatar:t.avatar,tweetId:t.tweetId,tweet:t.tweet,replyId:t.replyId,reply:t.reply}))}},created:function(){var a=this;return Object(s.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.getNotification();case 3:e=t.sent,e=e.data,a.messageList=e,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),o.a.fire({icon:"error",title:"無法取得通知資料，請稍後再試！"});case 13:case"end":return t.stop()}},t,null,[[0,9]])}))()},methods:{}},a=(a("3c30"),a("2877")),c=Object(a.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notification flex"},[a("UserSidebar"),a("div",{staticClass:"mainSection"},[e._m(0),a("div",{staticClass:"noti-panel"},[e._l(e.messageList,function(t){return[1===t.type?a("li",{key:t.id,staticClass:"tweetItem"},[a("div",{staticClass:"tweet-noti"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:""}})]),a("h6",[e._v(e._s(t.name)+" 有新的推文通知")]),a("p",[e._v(" "+e._s(t.tweet)+" ")])])]):e._e(),2===t.type?a("li",{key:t.id,staticClass:"followItem"},[a("div",{staticClass:"follow-noti"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:""}})]),a("h6",[e._v(e._s(t.name)+" 開始追蹤你")])])]):e._e(),3===t.type?a("li",{key:t.id,staticClass:"replyItem"},[a("div",{staticClass:"reply-noti"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:""}})]),a("h6",[e._v("你的貼文有新的回覆")]),a("p",[e._v(" "+e._s(t.reply)+" ")])])]):e._e(),4===t.type?a("li",{key:t.id,staticClass:"likeItem"},[a("div",{staticClass:"like-noti"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:""}})]),a("h6",[e._v(e._s(t.name)+" 喜歡你的貼文")])])]):e._e()]})],2)]),a("RecommededFollowers")],1)},[function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"title stickyTitle"},[e("h1",[t._v("通知")])])}],!1,null,"378698e2",null);e.default=c.exports},"12ac":function(t,e,a){},"3bae":function(t,e,a){"use strict";var s=a("2fa3");e.a={getPublicRoom:function(){return s.b.get("/rooms/4")},createPrivateRoom:function(t){return s.b.post("/rooms",{userId:t})},getPrivateRoom:function(t){return s.b.get("/rooms/".concat(t))},getNotification:function(){return s.b.get("/rooms/notifications")},getRoom:function(t){return s.b.get("/rooms/".concat(t))},getRoomsByUser:function(){return s.b.get("/rooms")},getAvailableUsers:function(){return s.b.get("rooms/availableUsers")},getUnread:function(){return s.b.get("/private/unread")}}},"3c30":function(t,e,a){"use strict";a("12ac")}}]);