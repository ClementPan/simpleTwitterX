(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7dfb09f9"],{"1f3c":function(t,e,r){"use strict";r("35cb")},"35cb":function(t,e,r){},"54e2":function(t,e,r){"use strict";r.r(e);var s=[function(){var t=this.$createElement,t=this._self._c||t;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:r("a1d8"),alt:""}})])},function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"title"},[e("h1",[t._v("登入 Alphitter")])])}],a=r("1da1"),n=(r("96cf"),r("2fa3")),o=r("7696"),i={name:"SignIn",data:function(){return{form:{account:"",password:""},isProcessing:!1}},methods:{handleSubmit:function(){var s=this;return Object(a.a)(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.form,s.formDataCheck(e)){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,s.isProcessing=!0,t.next=8,o.a.signIn(e);case 8:if(r=t.sent,"success"!==(r=r.data).status)throw new Error(r.message);t.next=12;break;case 12:localStorage.setItem("token",r.token),s.$store.commit("setCurrentUser",r.user),s.$router.push("/main"),t.next=24;break;case 17:t.prev=17,t.t0=t.catch(4),s.isProcessing=!1,n.a.fire({icon:"error",title:"帳號密碼不正確，請再試一次！"}),s.form.account="",s.form.password="";case 24:case"end":return t.stop()}},t,null,[[4,17]])}))()},formDataCheck:function(t){var e=t.account,t=t.password;return"root"===e?(n.a.fire({icon:"error",title:"無法使用管理者帳號於前臺登入！"}),!1):e?t?!0:(n.a.fire({icon:"info",title:"尚未填寫密碼！"}),!1):(n.a.fire({icon:"info",title:"尚未填寫帳號！"}),!1)}}},c=(r("1f3c"),r("2877")),s=Object(c.a)(i,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"container"},[t("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.handleSubmit(t)}}},[e._m(0),e._m(1),t("div",{staticClass:"row"},[t("label",{attrs:{for:"account"}},[e._v("帳號")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.account,expression:"form.account"}],attrs:{id:"account",name:"account",type:"text",required:""},domProps:{value:e.form.account},on:{input:function(t){t.target.composing||e.$set(e.form,"account",t.target.value)}}})]),t("div",{staticClass:"row"},[t("label",{attrs:{for:"password"}},[e._v("密碼")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{id:"password",name:"password",type:"password",required:""},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),t("div",{staticClass:"row mt-4"},[t("button",{staticClass:"btn signin",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" "+e._s(e.isProcessing?"登入中":"登入")+" ")])]),t("div",{staticClass:"row link-btns-container"},[t("div",{staticClass:"link-btns"},[t("router-link",{staticClass:"routerLink",attrs:{to:"/signup"}},[e._v("註冊 Alphitter")]),t("span",[e._v(" · ")]),t("router-link",{staticClass:"routerLink",attrs:{to:"/admin/signin"}},[e._v("後台登入")])],1)])])])},s,!1,null,"db00fff2",null);e.default=s.exports}}]);